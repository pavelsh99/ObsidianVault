---
tags:
  - csharp
  - типы_данных
date: 2025-06-01
---
[ССЫЛОЧНЫЕ И ЗНАЧИМЫЕ ТИПЫ C# | СТЕК И КУЧА C# | REFERENCE AND VALUE TYPES C# | C# Уроки | # 38](https://www.youtube.com/watch?v=_RUluZNOwfY&list=PLQOaTSbfxUtD6kMmAYc8Fooqya3pjLs1N&index=53)

Существуют 2 области оперативной памяти : 
- **Стек потока** (stack)
- **Управляемая Куча** (heap)

Они используются по разному и имеют разный объем 

# Stack (Value type)

> - Стек это маленький объем оперативный памяти, который выделяется для каждого потока.
> - Каждый поток имеет свой стек.
> - Объем оперативной памяти для стека по умолчанию 1 мб.
> - Стек хранит переменные, действия над переменными, используется для методов, которые мы используем в программе, логика программы.
> - Стек очень маленький, но мы можем очень быстро его освобождать, когда данные нам не нужны.
>- Стек работает по принципу "Last in first out"(как в магазине пистолета): 


>   ![[Pasted image 20250601145027.png]]
# Heap (Reference type)

>- Куча(Heap) представляет из себя по сути склад в оперативной памяти, который мы можем использовать по мере надобности.
>- Мы можем выделить разный объем ОЗУ для кучи. Это зависит от разрядности и операционной системы.
>- Для 32х разрядного процессора можно выделить около 1.5гб оперативной памяти, а для 64х разрядного процессора до 8тб.
>- Особенность кучи: в ней сложнее выделять место для данных в куче, и сложнее удалять из нее данные.
>- В куче ненужные данные удаляются сборщиком мусора, автоматически, что тоже нагружает программу.

# Value types // Reference types

![[Pasted image 20250601131755.png]]

>Чтобы отличить struct, enum, class, можно навести мышку ![[Pasted image 20250601132349.png]]

>В C# все является классами или структурами, тк C# это ООП язык. 

>`int` это структура, а значит она хранится в стеке
>
> ![[Pasted image 20250601142833.png]]

> Если мы создадим массив, то в стеке будет храниться только ссылка на него, а тк массив это `class` то его данные будут в куче(Heap).
> 
>![[Pasted image 20250601143019.png]]
>- Ссылочный тип данных - это как если бы мы создали ярлык на рабочем столе, который вел бы к файлу, который на жестком диске
>- Значимый тип данных это если бы мы перенесли файл с жесткого диска прямо на рабочий стол.


>Массив это класс, он хранится в куче и не удаляется вне контекста, а ссылки хранятся в стеке.
>
![[Pasted image 20250601144148.png]]