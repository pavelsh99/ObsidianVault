---
tags:
  - csharp
  - ООП
date: 2025-10-25
---
[Перегрузка конструкторов класса в C# | Что такое перегрузка | C# ОТ НОВИЧКА К ПРОФЕССИОНАЛУ | # 60](https://www.youtube.com/watch?v=t7cODl_-X_U&list=PLQOaTSbfxUtD6kMmAYc8Fooqya3pjLs1N&index=80)
# Перегрузка конструктора

>  Перегрузка конструктора схожа с [[36. ПЕРЕГРУЗКА МЕТОДОВ СИ ШАРП]], потому что конструктор - это тоже метод, но специальный

>	 Она позволяет сконструировать объект одного и того же класса разными реализациями

```csharp
        class Point
        {
            public Point(int  x, int y)
            {
                _y = y;
                _x = x;
            }

            private int _x;
            private int _y;

            public void Print()
            {
                Console.WriteLine($"X:{_x}\t Y:{_y}");
            }

        }
        static void Main(string[] args)
        {
            Point point =  new Point(x:3,y:6);

            point.Print();
        }
```

> Теперь мы не можем использовать конструктор по умолчанию, нам нужно указывать `x` `y` при создании объекта класса

![[Pasted image 20251025151831.png]]

> Вопрос который могут задать на собеседовании #вопрос_на_собеседовании: Всегда ли конструктор по умолчанию присутствует в классе?

>Если мы написали свой конструктор, то конструктор по умолчанию пропадает потому, что среда разработки думает что мы взяли процесс создания конструктора класса в свои руки.

> Но мы можем его написать сами, используя перегрузку.

```csharp
 public Point(int  x, int y)
{
    _y = y;
    _x = x;
}
public Point()// конструктор по умолчанию
{

}
```

> Теперь выбор конструктора зависит от того, что мы передадим в объект класса.
![[Pasted image 20251025152818.png]]

>Чтобы вызвать это меню `CTRL` + `SHIFT` + `SPACE`

![[Pasted image 20251025153013.png]]

>  Мы можем сделать например чтобы если мы не передавали значения, то `x` `y` присваивался бы 1.
```csharp 
		Class Point
		{
            public Point()
            {
                _y = _x = 1;
            }
            public Point(int  x, int y)
            {
                _y = y;
                _x = x;
            }
		}
            Point point =  new Point(x:3,y:6);
            Point point1 = new Point();
```

# Важно знать #вопрос_на_собеседовании 

> Бывает, что нам нужно копировать данные из одного объекта класса в другой

```csharp
    Point point =  new Point(x:3,y:6,name: "point1");
	point.Print();
	
	Point point1 = point;// ТУТ
	point1.Print();
```

![[Pasted image 20251025230239.png]]

> Теперь попробуем присвоить новой точке другое имя и распечатаем обе точки

```csharp
    Point point =  new Point(x:3,y:6,name: "point1");
	point.Print();
	
	Point point1 = point;
	point1.Print();
	
    point.setName(newName:"point2");
    point.Print();
    point1.Print();
```

![[Pasted image 20251025230449.png]]

>  Классы — ссылочные типы: переменная хранит адрес объекта в куче, а не сам объект. Копируя переменную, мы копируем ссылку, и оба имени работают с одним и тем же экземпляром.

# Что делать? 

> Используем такой перегруженный метод

```csharp
public Point(Point point)
{
    _x = point._x;
    _y = point._y;
    _name = point._name;
}
```

>Этот конструктор создаёт **новый объект**, копируя значения всех полей из другого объекта `Point`.


> Пробуем:
```csharp
	public Point(Point point)
	{
	    _x = point._x;
	    _y = point._y;
	    _name = point._name;
	}
     static void Main(string[] args)
    {
        Point point =  new Point(x:3,y:6,name: "point1");
        point.Print();
        
        Point point1 = new Point(point);// ТУТ
        point1.Print();
        
        point.setName(newName:"point2");
        point.Print();
        point1.Print();
    }
```

![[Pasted image 20251025231850.png]]

> Тут мы работаем с другими данными в управляемой куче.
> И это могут спрашивать на собесе


