---
tags:
  - csharp
---

[# C# ПРЕОБРАЗОВАНИЕ СТРОК | PARSE STRING | TRYPARSE STRING](https://www.youtube.com/watch?v=rMEzXVgxQ7o)
# Parse
Это типичная конвертация в программировании
- Примитивные типы данных `int`,`short`, `double` и другие имеют метод parse
```Csharp
string str = "5";
int a = int.Parse(str);
```
- Разница в том, что вместо вызова `Convert` мы обращаемся напрямую к типу данных.
- `Convert` более широко направленный на другие типы данных. `Parse` направлен только на строки(`string`)
```Csharp
static void Main(string[] args)
    /* Parse и Tryparce
     * Конвертация строки
     */
{
    string str = "6.6";

    NumberFormatInfo numberFormatInfo = new NumberFormatInfo()
    {
        NumberDecimalSeparator  = (".")

    };

    double a = double.Parse(str);

    Console.WriteLine(a);


}
```
# Конвертация, если в строке есть другие символы:
- ## С помощью метода `try catch`
В случае правильного ввода выводится `"успешная конвертация"` и число
В случае неправильного ввода выведется сообщение `"Ошибка конвертации"`
```Csharp
            try
            {
                double a = Convert.ToDouble(str);
                Console.WriteLine("успешная конвертация");
                Console.WriteLine(a);   
            }
            catch (Exception) 
            {
                Console.WriteLine("Ошибка конвертации");
            }

```

- ## Метод`Tryparse`
Он не дает исключений(ошибок), но работает иначе. 
Он принимает любые значения и в случае неудачи приводит переменную к значению по умолчанию.  Например у `int` - это 0
Он выдает также значение `bool` (`true` или `false`). 
на основе этого можно выстроить логику `if{} else{}`.
```csharp
            string str = "6,6aaaaa";

            double a;

            bool result = double.TryParse(str, out a);
            if (result)
            {
                Console.WriteLine("Операция успешна, значение = " + a);
            }
            else
            {
                Console.WriteLine("Операция провалена, повторите попытку");
            }
```