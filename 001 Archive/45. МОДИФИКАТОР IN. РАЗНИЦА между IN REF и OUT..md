---
date: 2025-08-15
tags:
  - csharp
  - ключевое_слово
---
[МОДИФИКАТОР IN C# и бенчмарк | РАЗНИЦА между IN REF и OUT | C# ОТ НОВИЧКА К ПРОФЕССИОНАЛУ | # 45](https://www.youtube.com/watch?v=4Z6e-qwK_Wc)

## In

**`in`** — модификатор параметра, передающегося по ссылке, но только **для чтения**.  
Используется, чтобы:

- Избежать лишнего копирования больших структур (экономия памяти и времени).

- Защитить данные от изменений внутри метода.

- Явно указать, что метод не будет менять переданную переменную.


#### **Особенности:**

1. Переменная **должна быть инициализирована** до передачи.

2. Метод **не может изменять** переменную.

3. Передаётся ссылка, поэтому больших затрат на копирование нет.

4. Можно использовать как с простыми типами, так и со структурами.


Пример:

```csharp
static void ShowValue(in int number)
{
    Console.WriteLine(number); 
    // number++; // Ошибка! in запрещает изменение
}

static void Main()
{
    ShowValue(in int a);
    a = 10;
}

```

## Сравнение in ref out

| Модификатор | Передача по ссылке | Можно читать значение?  | Можно менять значение? | Нужно инициализировать до вызова? | Нужно присвоить внутри метода? | Основной смысл                                          |
| ----------- | ------------------ | ----------------------- | ---------------------- | --------------------------------- | ------------------------------ | ------------------------------------------------------- |
| **in**      | Да                 | Да                      | Нет                    | Да                                | Нет                            | Передать по ссылке для чтения, без изменений            |
| **ref**     | Да                 | Да                      | Да                     | Да                                | Нет                            | Передать по ссылке для изменения существующего значения |
| **out**     | Да                 | Нет (пока не присвоено) | Да                     | Нет                               | Да                             | Вернуть значение через параметр                         |



### **Почему `in` хорошо использовать для `struct`**

В C# структуры (`struct`) — это **значимые типы**, которые при передаче в метод **копируются целиком**.  
Если структура большая (много полей или свойств), копирование может быть заметно медленным и потреблять лишнюю память.

`in` передаёт структуру **по ссылке, но только для чтения**:

- Нет лишнего копирования → метод получает доступ напрямую к исходной структуре.

- Нельзя случайно изменить данные внутри метода — структура остаётся неизменной.

- Код становится безопаснее и быстрее, особенно в высоконагруженных местах.