---
tags:
  - ООП
  - csharp
  - инкапсуляция
date: 2025-10-22
---
```csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace Bank
{
    class Bank
    {
        private static Random random = new Random();
        private double balance = random.Next(1,1000);

        private void Deposit()
        {
            double amount;
            Console.WriteLine("сколько вы хотите внести на счет?");

            if(!double.TryParse(Console.ReadLine(), out amount) || amount <= 0)
            {
                Console.WriteLine("Некорректная сумма ввода, для продолжения нажмите...");
                Console.ReadKey();
                return;
            }

            Console.Beep(1000, 100); // частота 1000 Гц, длительность 100 мс
            Thread.Sleep(100);
            Console.Beep(1200, 100); // ещё один бип
            Thread.Sleep(300);

            balance = amount + balance;

        }
        private void GetBalance() 
        {
            Console.WriteLine($"Ваш баланс = {balance}"); 
        }
        private void Withdraw()
        {

            Console.WriteLine("сколько вы хотите снять со счета?");
            double amount; 
            if (!double.TryParse(Console.ReadLine(), out amount) || amount <= 0 )
            {
                Console.WriteLine("Некорректная сумма ввода, для продолжения нажмите...");
                Console.ReadKey();
                return;
            }

            if (amount > balance)
            {
                Console.WriteLine("Недостаточно средств, для продолжения нажмите...");
                Console.ReadKey();
                return;
            
            }

            balance = -amount + balance;

            Console.Beep(1000, 100); // частота 1000 Гц, длительность 100 мс
            Thread.Sleep(100);
            Console.Beep(1200, 100); // ещё один бип
            Thread.Sleep(300);

        }
        public void BankApp()
        {
            while (true)
            {
                Console.Clear();
                GetBalance();
                Console.WriteLine("\nВыберете действие:\n\tДля депозита нажмите\t(1)\n\tДля снятия нажмите\t(2)");

                var key = Console.ReadKey(intercept: true).KeyChar;


                if (key == '1')
                    Deposit();

                if (key == '2')
                    Withdraw();
                    
            }
        }
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            Bank wallet = new Bank();

            wallet.BankApp();

        }
    }
}
```